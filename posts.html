{% extends "layouts/base.njk" %}

{% block content %}
<div class="posts">
  <h2>All Posts</h2>
  {% for post in collections.posts %}
    <div class="post">
      <h3><a href="{{ post.url }}">{{ post.data.title }}</a></h3>
      <p class="meta">{{ post.date | date }} ·
        {% if post.data.tags %}
          {{ post.data.tags | join(", ") }}
        {% endif %}
      </p>
      <p class="description">{{ post.templateContent | truncate(150, true, "…") | safe }}</p>
    </div>
  {% else %}
    <p>No posts found.</p>
  {% endfor %}
</div>

<div class="sidebar">
  <div class="tags">
    <h3>Tags</h3>
    <a href="/tags/philosophy/">Philosophy</a>
    <a href="/tags/cosmology/">Cosmology</a>
    <a href="/tags/shayari/">Shayari</a>
    <a href="/tags/wisdom/">Wisdom</a>
  </div>

  <div class="subscribe">
    <h3>Subscribe</h3>
    <p>Get the latest posts delivered straight to your inbox</p>
    <form name="newsletter" method="POST" data-netlify="true">
      <input type="email" name="email" placeholder="Email address" required />
      <button type="submit">Subscribe</button>
    </form>
  </div>
</div>
{% endblock %}
