{# _includes/layouts/tag.njk #}
{% extends "layouts/base.njk" %}

{% block content %}
  <div class="posts">
    <h2>Posts tagged “{{ tag }}”</h2>

    {% if pagination.items.length %}
      {% for post in pagination.items %}
        <div class="post">
          <h3>
            <a href="{{ post.url }}">{{ post.data.title }}</a>
          </h3>
          <p class="meta">
            {{ post.date | date }}
          </p>
        </div>
      {% endfor %}
    {% else %}
      <p>No posts found for this tag.</p>
    {% endif %}
  </div>

  <div class="sidebar">
    <div class="tags">
      <h3>Tags</h3>
      {% for t in collections.tagList %}
        <a href="/tags/{{ t | slugify }}/">{{ t }}</a>
      {% endfor %}
    </div>

    <div class="subscribe">
      <h3>Subscribe</h3>
      <p>Get the latest posts delivered straight to your inbox</p>
      <form name="newsletter" method="POST" data-netlify="true">
        <input
          type="email"
          name="email"
          placeholder="Email address"
          required
        />
        <button type="submit">Subscribe</button>
      </form>
    </div>
  </div>
{% endblock %}
